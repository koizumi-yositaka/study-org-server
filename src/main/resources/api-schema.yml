openapi: "3.0.0"
info:
  title: PRODUCT API DOC
  version: "0.0.1"
  description: PRODUCT API DOC
tags:
  - name: opts
    description: 運用監視関連のAPI
  - name: users
    description: ユーザー管理
paths:
  /api/health:
    get:
      tags:
        - opts
      responses:
        '200':
          description: OK
  /api/user/login:
    post:
      tags:
        - users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginUserForm"
      responses:
        '200':
          description: LOGIN SUCCESS
        '404':
          description: ForbiddenError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ForbiddenError"



components:
  schemas:
    LoginUserForm:
      description: ログイン時のユーザー情報
      properties:
        email:
          type: string
          description: "ログインEmail"
        password:
          type: string
          description: "パスワード"
      required:
        - email
        - password
    ForbiddenError:
      description: アクセス権限がありません
      type: object
      properties:
        title:
          type: string
          description: "エラーのタイプ"
          default: "このリソースにアクセスする権限がありません"
        detail:
          type: string
          description: "エラーの詳細"
      required:
        - title
        - detail
    ResourceNotFoundError:
      description: 指定したリソースは存在しない
      type: object
      properties:
        title:
          type: string
          description: "エラーのタイプ"
          default: "Resource Not Found"
        detail:
          type: string
          description: "エラーの詳細"
      required:
        - title
        - detail
    BadRequestError:
      description: 不正リクエスト
      type: object
      properties:
        title:
          type: string
          description: エラータイトル
          default: "BadRequest"
        detail:
          type: string
          description: ""
          default: "リクエストが不正です。再度リクエストを送信してください"
        invalid-params:
          type: array
          items:
            $ref: "#/components/schemas/InvalidParam"
    InvalidParam:
      description: "不正リクエストについての詳細"
      type: object
      properties:
        name:
          type: string
          description: エラーが発生したフィールド名
        reason:
          type: string
          description: エラーの理由
      required:
        - name
        - reason












